<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">NeoVim 基本配置 - 某春雨的后花园</title><meta name="Description" content="Looking to the future..."><meta property="og:title" content="NeoVim 基本配置" />
<meta property="og:description" content="Vim 被称之为神之编辑器，与其强大的可配置性脱不了关系。NeoVim 是 Vim 的一个复刻，更多强大的插件也随之诞生。本文简要介绍 NeoVim 的配置，包括软件基本的设置和常用插件的安装与配置。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ichunyu.github.io/neovim/" /><meta property="og:image" content="https://ichunyu.github.io/images/avatar.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-06T18:12:48+08:00" />
<meta property="article:modified_time" content="2022-08-03T13:09:36+08:00" /><meta property="og:site_name" content="某春雨的后花园" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ichunyu.github.io/images/avatar.png"/>

<meta name="twitter:title" content="NeoVim 基本配置"/>
<meta name="twitter:description" content="Vim 被称之为神之编辑器，与其强大的可配置性脱不了关系。NeoVim 是 Vim 的一个复刻，更多强大的插件也随之诞生。本文简要介绍 NeoVim 的配置，包括软件基本的设置和常用插件的安装与配置。"/>
<meta name="application-name" content="某春雨的后花园">
<meta name="apple-mobile-web-app-title" content="某春雨的后花园">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/avatar.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://ichunyu.github.io/neovim/" /><link rel="prev" href="https://ichunyu.github.io/matlab-inputparser/" /><link rel="next" href="https://ichunyu.github.io/latexsnips/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript>
    
    
    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "NeoVim 基本配置",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/ichunyu.github.io\/neovim\/"
        },"genre": "posts","keywords": "Vim","wordcount":  5949 ,
        "url": "https:\/\/ichunyu.github.io\/neovim\/","datePublished": "2022-05-06T18:12:48+08:00","dateModified": "2022-08-03T13:09:36+08:00","publisher": {
            "@type": "Organization",
            "name": "","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/ichunyu.github.io\/images\/avatar.png",
                    "width":  1024 ,
                    "height":  1024 
                }},"author": {
                "@type": "Person",
                "name": "大春雨"
            },"description": ""
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="某春雨的后花园"><span id="desktop-header-typeit" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" onclick="return false;" class="menu-item theme-select" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="切换主题">
                        <option value="light">浅色</option>
                        <option value="dark">深色</option>
                        <option value="black">黑色</option>
                        <option value="auto">跟随系统</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="某春雨的后花园"><span id="mobile-header-typeit" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" onclick="return false;" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/about/" title="">关于</a><a href="#" onclick="return false;" class="menu-item theme-select" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="切换主题">
                    <option value="light">浅色</option>
                    <option value="dark">深色</option>
                    <option value="black">黑色</option>
                    <option value="auto">跟随系统</option>
                </select>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">目录</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#基本配置">基本配置</a>
      <ul>
        <li><a href="#文件类型支持">文件类型支持</a></li>
        <li><a href="#行号">行号</a></li>
        <li><a href="#缩进">缩进</a></li>
        <li><a href="#编码">编码</a></li>
        <li><a href="#高亮">高亮</a></li>
        <li><a href="#搜索">搜索</a></li>
        <li><a href="#上下边距">上下边距</a></li>
        <li><a href="#主键和-python">主键和 Python</a></li>
        <li><a href="#恢复光标">恢复光标</a></li>
      </ul>
    </li>
    <li><a href="#键位映射">键位映射</a>
      <ul>
        <li><a href="#光标移动">光标移动</a></li>
        <li><a href="#搜索跳转与取消高亮">搜索跳转与取消高亮</a></li>
        <li><a href="#分屏">分屏</a></li>
        <li><a href="#标签页">标签页</a></li>
        <li><a href="#常用短命令">常用短命令</a></li>
      </ul>
    </li>
    <li><a href="#插件简介">插件简介</a>
      <ul>
        <li><a href="#ultisnips代码片段">ultisnips：代码片段</a></li>
        <li><a href="#vimtexlatex-支持">vimtex：LaTeX 支持</a></li>
        <li><a href="#nightfoxnvim配色方案">nightfox.nvim：配色方案</a></li>
        <li><a href="#vim-airline美化状态栏">vim-airline：美化状态栏</a></li>
        <li><a href="#cocnvim代码补全">coc.nvim：代码补全</a></li>
        <li><a href="#rainbow彩色括号">rainbow：彩色括号</a></li>
        <li><a href="#wildfirevim选择成对符号内字符">wildfire.vim：选择成对符号内字符</a></li>
        <li><a href="#undotree撤销历史">undotree：撤销历史</a></li>
        <li><a href="#lightspeednvim快速跳转">lightspeed.nvim：快速跳转</a></li>
        <li><a href="#nvim-treesitter高亮强化">nvim-treesitter：高亮强化</a></li>
        <li><a href="#fcitxnvim输入法切换">fcitx.nvim：输入法切换</a></li>
        <li><a href="#nvim-notify弹窗美化">nvim-notify：弹窗美化</a></li>
        <li><a href="#gitsignsnvimgit-集成">gitsigns.nvim：Git 集成</a></li>
        <li><a href="#tabular指定字符对齐文本">tabular：指定字符对齐文本</a></li>
        <li><a href="#telescopenvim搜索文件">telescope.nvim：搜索文件</a></li>
        <li><a href="#vim-markdown-tocmarkdown-生成目录">vim-markdown-toc：Markdown 生成目录</a></li>
        <li><a href="#bulletsvim自动列表">bullets.vim：自动列表</a></li>
      </ul>
    </li>
    <li><a href="#参考资料">参考资料</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle", "normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">NeoVim 基本配置</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">大春雨</a>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/%E7%94%9F%E5%91%BD%E5%9C%A8%E4%BA%8E%E6%8A%98%E8%85%BE/"><i class="far fa-folder fa-fw"></i>生命在于折腾</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-05-06">2022-05-06</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2022-08-03">2022-08-03</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 5949 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 12 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#基本配置">基本配置</a>
      <ul>
        <li><a href="#文件类型支持">文件类型支持</a></li>
        <li><a href="#行号">行号</a></li>
        <li><a href="#缩进">缩进</a></li>
        <li><a href="#编码">编码</a></li>
        <li><a href="#高亮">高亮</a></li>
        <li><a href="#搜索">搜索</a></li>
        <li><a href="#上下边距">上下边距</a></li>
        <li><a href="#主键和-python">主键和 Python</a></li>
        <li><a href="#恢复光标">恢复光标</a></li>
      </ul>
    </li>
    <li><a href="#键位映射">键位映射</a>
      <ul>
        <li><a href="#光标移动">光标移动</a></li>
        <li><a href="#搜索跳转与取消高亮">搜索跳转与取消高亮</a></li>
        <li><a href="#分屏">分屏</a></li>
        <li><a href="#标签页">标签页</a></li>
        <li><a href="#常用短命令">常用短命令</a></li>
      </ul>
    </li>
    <li><a href="#插件简介">插件简介</a>
      <ul>
        <li><a href="#ultisnips代码片段">ultisnips：代码片段</a></li>
        <li><a href="#vimtexlatex-支持">vimtex：LaTeX 支持</a></li>
        <li><a href="#nightfoxnvim配色方案">nightfox.nvim：配色方案</a></li>
        <li><a href="#vim-airline美化状态栏">vim-airline：美化状态栏</a></li>
        <li><a href="#cocnvim代码补全">coc.nvim：代码补全</a></li>
        <li><a href="#rainbow彩色括号">rainbow：彩色括号</a></li>
        <li><a href="#wildfirevim选择成对符号内字符">wildfire.vim：选择成对符号内字符</a></li>
        <li><a href="#undotree撤销历史">undotree：撤销历史</a></li>
        <li><a href="#lightspeednvim快速跳转">lightspeed.nvim：快速跳转</a></li>
        <li><a href="#nvim-treesitter高亮强化">nvim-treesitter：高亮强化</a></li>
        <li><a href="#fcitxnvim输入法切换">fcitx.nvim：输入法切换</a></li>
        <li><a href="#nvim-notify弹窗美化">nvim-notify：弹窗美化</a></li>
        <li><a href="#gitsignsnvimgit-集成">gitsigns.nvim：Git 集成</a></li>
        <li><a href="#tabular指定字符对齐文本">tabular：指定字符对齐文本</a></li>
        <li><a href="#telescopenvim搜索文件">telescope.nvim：搜索文件</a></li>
        <li><a href="#vim-markdown-tocmarkdown-生成目录">vim-markdown-toc：Markdown 生成目录</a></li>
        <li><a href="#bulletsvim自动列表">bullets.vim：自动列表</a></li>
      </ul>
    </li>
    <li><a href="#参考资料">参考资料</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Vim 被称之为神之编辑器，与其强大的可配置性脱不了关系。NeoVim 是 Vim 的一个复刻，更多强大的插件也随之诞生。本文简要介绍 NeoVim 的配置，包括软件基本的设置和常用插件的安装与配置。</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">本文所述的配置仅为成文时的状态，后面的更新详见我放在 GitHub 的 <a href="https://github.com/iChunyu/nvim" target="_blank" rel="noopener noreffer">配置文档</a>。</div>
        </div>
    </div>
<h2 id="基本配置" class="headerLink">
    <a href="#%e5%9f%ba%e6%9c%ac%e9%85%8d%e7%bd%ae" class="header-mark"></a>基本配置</h2><p>利用 <code>set</code> 等关键字可以对 Neovim 进行最基本的设置，使用 <code>:h XXX</code> 可以查看详细的帮助文档。</p>
<h3 id="文件类型支持" class="headerLink">
    <a href="#%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%e6%94%af%e6%8c%81" class="header-mark"></a>文件类型支持</h3><p><code>init.vim</code> 的配置是全局生效的，如果需要对特定（后缀）文件进行特定的设置，需要开启文件类型支持。相应的配置文件以 <code>[后缀名].vim</code> 放置在 <code>ftplugin</code> 文件夹下。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">filetype</span> <span class="nx">on</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">filetype</span> <span class="nx">plugin</span> <span class="nx">on</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">filetype</span> <span class="nx">plugin</span> <span class="nx">indent</span> <span class="nx">on</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="行号" class="headerLink">
    <a href="#%e8%a1%8c%e5%8f%b7" class="header-mark"></a>行号</h3><p>下面两条命令分别启用行号和设置相对行号，以便于快速跳转到指定行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">number</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">relativenumber</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="缩进" class="headerLink">
    <a href="#%e7%bc%a9%e8%bf%9b" class="header-mark"></a>缩进</h3><p><code>autoindent</code> 和 <code>smartindent</code> 启动自动智能缩进，其功能是根据上一行的缩进自动缩进下一行，并且如果下一行置空时会自动删除缩进，只保留空行。除此之外，我喜欢 4 个空格长度的缩进，并且将制表符展开为 4 个空格。因此缩进相关的设置为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">autoindent</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">smartindent</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">tabstop</span><span class="p">=</span><span class="m">4</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">softtabstop</span><span class="p">=</span><span class="m">4</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">shiftwidth</span><span class="p">=</span><span class="m">4</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">expandtab</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="编码" class="headerLink">
    <a href="#%e7%bc%96%e7%a0%81" class="header-mark"></a>编码</h3><p>设置 Neovim 默认编辑文本时使用 UTF-8 编码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">encoding</span><span class="p">=</span><span class="nx">utf</span><span class="m">-8</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="高亮" class="headerLink">
    <a href="#%e9%ab%98%e4%ba%ae" class="header-mark"></a>高亮</h3><p>Neovim 具有基本的高亮功能：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">syntax</span> <span class="nx">on</span>               <span class="c">&#34; 语法高亮</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">showmatch</span>           <span class="c">&#34; 当光标置于成对符号（例如括号）时，高亮匹配的符号对</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">hlsearch</span>            <span class="c">&#34; 搜索结果高亮</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在搜索高亮的设置下，打开之前的文件会高亮之前的搜索结果，为此我们希望在打开文件时将之前的搜索高亮关闭，加入了以下设置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">exec</span> <span class="s2">&#34;nohlsearch&#34;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="搜索" class="headerLink">
    <a href="#%e6%90%9c%e7%b4%a2" class="header-mark"></a>搜索</h3><p>使用 <code>ignorecase</code> 设置搜索时忽略大小写，进一步设置 <code>smartcase</code>。这样，当搜索时手动区分大小写时搜索结果将对大小写敏感。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">ignorecase</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">smartcase</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="上下边距" class="headerLink">
    <a href="#%e4%b8%8a%e4%b8%8b%e8%be%b9%e8%b7%9d" class="header-mark"></a>上下边距</h3><p>为了避免光标移动到最顶和最低时看不到附近内容，设置边距至少为 5 行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">scrolloff</span><span class="p">=</span><span class="m">5</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="主键和-python" class="headerLink">
    <a href="#%e4%b8%bb%e9%94%ae%e5%92%8c-python" class="header-mark"></a>主键和 Python</h3><p>Neovim 可以定义一个主键（Leader Key），这在构造组合键时非常有用。通常可以设置为空格键：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">mapleader</span> <span class="p">=</span> <span class="s2">&#34; &#34;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>除此之外，Neovim 的一些功能依赖于 Python3，设置其路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">python3_host_prog</span> <span class="p">=</span> <span class="s1">&#39;/usr/bin/python&#39;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>上述路径在 Linux 的各种发行版中基本不变，但使用时请确认 <code>python</code> 是否映射为了 <code>python3</code>。Windows 用户请自行设置。</p>
</blockquote>
<h3 id="恢复光标" class="headerLink">
    <a href="#%e6%81%a2%e5%a4%8d%e5%85%89%e6%a0%87" class="header-mark"></a>恢复光标</h3><p>Neovim 在打开文件时光标默认在文件的顶部，为了恢复到上一次关闭时的位置，可以使用以下设置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">au</span> <span class="nx">BufReadPost</span> * <span class="k">if</span> <span class="nx">line</span><span class="p">(</span><span class="s2">&#34;&#39;\&#34;&#34;</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">1</span> &amp;&amp; <span class="nx">line</span><span class="p">(</span><span class="s2">&#34;&#39;\&#34;&#34;</span><span class="p">)</span> <span class="p">&lt;=</span> <span class="nx">line</span><span class="p">(</span><span class="s2">&#34;$&#34;</span><span class="p">)</span> <span class="p">|</span> <span class="nx">exe</span> <span class="s2">&#34;normal! g&#39;\&#34;&#34;</span> <span class="p">|</span> <span class="k">endif</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="键位映射" class="headerLink">
    <a href="#%e9%94%ae%e4%bd%8d%e6%98%a0%e5%b0%84" class="header-mark"></a>键位映射</h2><p>Neovim 可以使用 <code>map</code>、<code>noremap</code> 对键位进行映射，区别在于是否递归映射。非必要情况下，我们都会使用非递归映射 <code>noremap</code>。更进一步，该命令还可以加入 <code>n</code> 或 <code>v</code> 等前缀指定该映射只在特定模式下生效。</p>
<h3 id="光标移动" class="headerLink">
    <a href="#%e5%85%89%e6%a0%87%e7%a7%bb%e5%8a%a8" class="header-mark"></a>光标移动</h3><p>Neovim 光标的基本移动是：<code>h</code> 左， <code>j</code> 下，<code>k</code> 上，<code>l</code> 右。本配置文档保留这种移动方式。</p>
<p>如果一行文本太长（比如写 LaTeX 时），Neovim 显示时会默认换行（<code>set wrap</code>），因此屏幕现实的行与换行符区别的实际行会出现差别。Neovim 的移动默认是实际行的移动，为了使用屏幕行（<code>gj</code>，<code>gk</code>）移动，将键位映射进行了交换：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="nx">j</span> <span class="nx">gj</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">k</span> <span class="nx">gk</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">gj</span> <span class="nx">j</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">gk</span> <span class="nx">k</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>为了跟快速跳转，使用大写按键（<code>Shift</code> 加字符的组合）进行 5 行跳转：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="nx">J</span> <span class="m">5</span>gj<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">K</span> <span class="m">5</span>gk<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>特别地，<code>0</code> 和 <code>$</code> 默认情况下分别表示实际行的行首和行尾，我只在普通模式下将其与屏幕行跳转进行交换，这是因为偶尔会需要从当前位置复制到行尾，可视模式下的 <code>$</code> 保留为实际行比较实用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">nnoremap</span> <span class="nx">g0</span> <span class="m">0</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">nnoremap</span> <span class="m">0</span> <span class="nx">g0</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">nnoremap</span> $ <span class="nx">g</span>$<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">nnoremap</span> <span class="nx">g</span>$ $<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="搜索跳转与取消高亮" class="headerLink">
    <a href="#%e6%90%9c%e7%b4%a2%e8%b7%b3%e8%bd%ac%e4%b8%8e%e5%8f%96%e6%b6%88%e9%ab%98%e4%ba%ae" class="header-mark"></a>搜索跳转与取消高亮</h3><p>Neovim 进行搜索后使用 <code>n</code> 和 <code>N</code> 分别可以向后、向前继续查找；而使用 <code>zz</code> 可以将当前行居中，因此结合这两个功能，并将继续查找设置为更常用（输入法常用）的 <code>=</code> 和 <code>-</code> 键：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="p">=</span> <span class="nx">nzz</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">-</span> <span class="nx">Nzz</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>除此，由于设置了高亮，搜索结果会始终高亮，将取消高亮映射给空格（<code>&lt;leader&gt;</code>）和回车（<code>&lt;CR&gt;</code>）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;&lt;</span><span class="nx">CR</span><span class="p">&gt;</span> :<span class="nx">nohlsearch</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="分屏" class="headerLink">
    <a href="#%e5%88%86%e5%b1%8f" class="header-mark"></a>分屏</h3><p>分屏（split）是很常用的功能，但 Neovim 开启分屏需要使用多个组合键或输入较长的命令。为此，将 <code>s</code> 加移动键映射为该方向上的分屏。需要说明的是，按下 <code>s</code> 后会触发 Neovim 默认的替换功能（substitute，删除当前字符并进入插入模式），该操作有其他替换，所以可以将 <code>s</code> 的功能置空（nop：no operation）以接受后面的指令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="nx">s</span> <span class="p">&lt;</span><span class="nx">nop</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">sl</span> :<span class="nx">set</span> <span class="nx">splitright</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>:<span class="nx">vsplit</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">sh</span> :<span class="nx">set</span> <span class="nx">nosplitright</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>:<span class="nx">vsplit</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">sj</span> :<span class="nx">set</span> <span class="nx">splitbelow</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>:<span class="nx">split</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">sk</span> :<span class="nx">set</span> <span class="nx">nosplitbelow</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>:<span class="nx">split</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>使用空格加方向键实现分屏之间的跳转：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">l</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">l</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">h</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">h</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">j</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">j</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">k</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">k</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="/neovim/split.gif" title="/neovim/split.gif" data-thumbnail="/neovim/split.gif" data-sub-html="<h2>分屏</h2>">
        <img
            class="lazyload"
            data-src="split.gif"
            data-srcset="/neovim/split.gif, split.gif 1.5x, /neovim/split.gif 2x"
            data-sizes="auto"
            alt="/neovim/split.gif"width="70%">
    </a><figcaption class="image-caption">分屏</figcaption>
    </figure>
<p>使用空格加大写方向键将当前分屏放置到指定方向的最边缘：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">L</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">L</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">H</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">H</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">J</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">J</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">K</span> <span class="p">&lt;</span><span class="nx">c</span><span class="p">-</span><span class="nx">w</span><span class="p">&gt;</span><span class="nx">K</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="/neovim/split2.gif" title="/neovim/split2.gif" data-thumbnail="/neovim/split2.gif" data-sub-html="<h2>分屏移动</h2>">
        <img
            class="lazyload"
            data-src="split2.gif"
            data-srcset="/neovim/split2.gif, split2.gif 1.5x, /neovim/split2.gif 2x"
            data-sizes="auto"
            alt="/neovim/split2.gif"width="70%">
    </a><figcaption class="image-caption">分屏移动</figcaption>
    </figure>
<p>使用上下左右键调整当前分屏的高度和宽度：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">noremap &lt;up&gt; :res +5&lt;CR&gt;
</span></span><span class="line"><span class="cl">noremap &lt;down&gt; :res -5&lt;CR&gt;
</span></span><span class="line"><span class="cl">noremap &lt;left&gt; :vertical res -5&lt;CR&gt;
</span></span><span class="line"><span class="cl">noremap &lt;right&gt; :vertical res +5&lt;CR&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="标签页" class="headerLink">
    <a href="#%e6%a0%87%e7%ad%be%e9%a1%b5" class="header-mark"></a>标签页</h3><p>如果分屏解决不了需求，还可以使用标签页（tab page），映射 <code>ta</code> 为新建标签页，<code>th</code> 和 <code>tl</code> 分别向左右跳转：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="nx">ta</span> :<span class="nx">tabe</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">th</span> :<span class="p">-</span><span class="nx">tabnext</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">tl</span> :<span class="p">+</span><span class="nx">tabnext</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="常用短命令" class="headerLink">
    <a href="#%e5%b8%b8%e7%94%a8%e7%9f%ad%e5%91%bd%e4%bb%a4" class="header-mark"></a>常用短命令</h3><p>利用键位映射还可以将一些常用命令映射到给定快捷键：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">o</span> <span class="nx">o</span><span class="p">&lt;</span><span class="nx">Esc</span><span class="p">&gt;</span><span class="nx">k</span>               “ <span class="nx">空格加小写字母</span> <span class="nx">o</span>：<span class="nx">向下插入空行</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">O</span> <span class="nx">O</span><span class="p">&lt;</span><span class="nx">Esc</span><span class="p">&gt;</span><span class="nx">j</span>               ” <span class="nx">空格加大写字母</span> <span class="nx">O</span>：<span class="nx">向上插入空行</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">w</span> :<span class="nx">w</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>                “ <span class="nx">空格加小写字母</span> <span class="nx">w</span>：<span class="nx">保存文档</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">q</span> :<span class="nx">q</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>                ” <span class="nx">空格加小写字母</span> <span class="nx">q</span>：<span class="nx">退出</span> <span class="nx">Neovim</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">Y</span> <span class="c">&#34;+y                           “ 大写字母 Y：复制到系统剪切板</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">nnoremap</span> <span class="nx">R</span> :<span class="nx">source</span> $<span class="nx">MYVIMRC</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span>         “ <span class="nx">普通模式下大写字母</span> <span class="nx">R</span>：<span class="nx">刷新</span> <span class="nx">Neovim</span> <span class="nx">配置</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="插件简介" class="headerLink">
    <a href="#%e6%8f%92%e4%bb%b6%e7%ae%80%e4%bb%8b" class="header-mark"></a>插件简介</h2><p>为了使用 <a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener noreffer">vim-plug</a> 对插件进行管理，只要在配置文件中的 <code>call plug#begin()</code> 和 <code>call plug#end()</code> 之间使用关键字 <code>Plug</code> 声明插件仓库的地址即可（确切的说只要 GitHub 地址后半部分）。我使用了以下插件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">call</span> <span class="nx">plug</span>#<span class="nx">begin</span><span class="p">()</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;SirVer/ultisnips&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;lervag/vimtex&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;neoclide/coc.nvim&#39;</span><span class="p">,</span> {<span class="s1">&#39;branch&#39;</span>: <span class="s1">&#39;release&#39;</span>}<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;EdenEast/nightfox.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;vim-airline/vim-airline&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;vim-airline/vim-airline-themes&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;luochen1990/rainbow&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;gcmt/wildfire.vim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;mbbill/undotree&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;ggandor/lightspeed.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;nvim-treesitter/nvim-treesitter&#39;</span><span class="p">,</span> {<span class="s1">&#39;do&#39;</span>: <span class="s1">&#39;:TSUpdate&#39;</span>}<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;h-hg/fcitx.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;rcarriga/nvim-notify&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;lewis6991/gitsigns.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;godlygeek/tabular&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c">
</span></span></span><span class="line"><span class="cl"><span class="c">    &#34; telescope and its dependencies</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;nvim-lua/plenary.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;BurntSushi/ripgrep&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;sharkdp/fd&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;nvim-telescope/telescope.nvim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c">
</span></span></span><span class="line"><span class="cl"><span class="c">    &#34; markdown enhancement</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;mzlogin/vim-markdown-toc&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">Plug</span> <span class="s1">&#39;dkarter/bullets.vim&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">call</span> <span class="nx">plug</span>#<span class="nx">end</span><span class="p">()</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>普通模式下输入 <code>R</code> 刷新配置（在前面我们配置了快捷键），然后输入 <code>:PlugInstall</code> 即可自动安装插件。下面我们对插件进行配置。</p>
<h3 id="ultisnips代码片段" class="headerLink">
    <a href="#ultisnips%e4%bb%a3%e7%a0%81%e7%89%87%e6%ae%b5" class="header-mark"></a>ultisnips：代码片段</h3><p><a href="https://github.com/SirVer/ultisnips" target="_blank" rel="noopener noreffer">ultisnips</a> 插件提供了简单的语法以自定义代码片段，特定文件的代码片段默认放置在配置文件目录下 <code>UltiSnips/</code> 文件夹内，命名格式为 <code>[后缀名].snippets</code>。也可以任意命名为 <code>*.snippets</code> 并放置在以后缀名为名的子文件下。特别地，<code>all.snippets</code> 对所有文件都生效。</p>
<p>编写代码片段的基本语法如下（中文用于提示，中括号及其里面内容为可选项）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">snippet 关键字 [&#34;提示&#34;] [展开选项]
</span></span><span class="line"><span class="cl">代码片段
</span></span><span class="line"><span class="cl">snippets 
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中关键字用于触发代码片段，当在插入模式输入代码片段后，会根据所设置的 <code>[展开选项]</code> （默认手动展开）判定是否展开。<code>[&quot;提示&quot;]</code> 用于提示当前代码片段的作用，当设置 <code>[展开选项]</code> 时必须设置 <code>[&quot;提示&quot;]</code>。可选的展开设置有：</p>
<ul>
<li><code>A</code>：检测到关键字之后自动展开；</li>
<li><code>r</code>：使用正则表达式判定关键字，此时关键字需要用引号包围；</li>
<li><code>w</code>：单独出现关键词时才能触发（关键词两边不是字母）；</li>
<li><code>i</code>：与 <code>w</code> 相反，关键字在单词内部时才能触发；</li>
<li><code>b</code>：当关键词为行首时才能触发。</li>
</ul>
<p>上述选项可以结合使用，例如 <code>bA</code> 表示关键词出现在行首时自动展开代码片段。</p>
<p>代码片段内部可以设置多个断点，分别用 <code>$1</code>、<code>$2</code> 等标记，同时可以使用形如 <code>${1:默认值}</code> 设置相应断点位置的默认值。特别地，<code>$0</code> 是最后一个断点。</p>
<p>该插件还支持使用 Python，形如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">snippet 关键字 [&#34;提示&#34;] [展开选项]
</span></span><span class="line"><span class="cl">`!p
</span></span><span class="line"><span class="cl">Python 代码
</span></span><span class="line"><span class="cl">snip.rv = 输出内容
</span></span><span class="line"><span class="cl">`
</span></span><span class="line"><span class="cl">snippets 
</span></span></code></pre></td></tr></table>
</div>
</div><p>当使用正则表达式时，匹配结果可以通过形如 <code>match.group(1)</code> 的方式进行调用；输出到代码片段的内容只需要赋值给变量 <code>snip.rv</code> 即可。</p>
<p>编写好代码片段文件后，在 Neovim 的配置文件中设置触发键即可。一般情况下，我们会使用 <code>&lt;tab&gt;</code> 展开代码片段，但测试发现这样会与后文的自动补全冲突，因此这里将触发设置成了 <code>jk</code> 。同时分别用 <code>jk</code> 和 <code>kj</code> 跳转到下一个或上一个断点。下面配置的最后一行手动指定（限定）代码片段的搜索路径，以加快加载速度。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">UltiSnipsExpandTrigger</span><span class="p">=</span><span class="s2">&#34;jk&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">UltiSnipsJumpForwardTrigger</span><span class="p">=</span><span class="s2">&#34;jk&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">UltiSnipsJumpBackwardTrigger</span><span class="p">=</span><span class="s2">&#34;kj&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">UltiSnipsSnippetDirectories</span><span class="p">=</span>[$<span class="nx">HOME</span>.<span class="s1">&#39;/.config/nvim/UltiSnips&#39;</span>]<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="/neovim/ultisnip.gif" title="/neovim/ultisnip.gif" data-thumbnail="/neovim/ultisnip.gif" data-sub-html="<h2>UltiSnip 代码片段</h2>">
        <img
            class="lazyload"
            data-src="ultisnip.gif"
            data-srcset="/neovim/ultisnip.gif, ultisnip.gif 1.5x, /neovim/ultisnip.gif 2x"
            data-sizes="auto"
            alt="/neovim/ultisnip.gif"width="70%">
    </a><figcaption class="image-caption">UltiSnip 代码片段</figcaption>
    </figure>
<h3 id="vimtexlatex-支持" class="headerLink">
    <a href="#vimtexlatex-%e6%94%af%e6%8c%81" class="header-mark"></a>vimtex：LaTeX 支持</h3><p><a href="https://github.com/lervag/vimtex" target="_blank" rel="noopener noreffer">vimtex</a> 提供了大量的 LaTeX 支持，这里我没有进行深入设置。</p>
<blockquote>
<p>详细的配置可以查看最后参考资料中的 Elijan Mastnak 的博客，他的讲解非常详细。</p>
</blockquote>
<h3 id="nightfoxnvim配色方案" class="headerLink">
    <a href="#nightfoxnvim%e9%85%8d%e8%89%b2%e6%96%b9%e6%a1%88" class="header-mark"></a>nightfox.nvim：配色方案</h3><p><a href="https://github.com/EdenEast/nightfox.nvim" target="_blank" rel="noopener noreffer">nightfox.nvim</a> 提供了很多配色方案，个人倾向于其中的 Nord 方案，同时高亮当前的屏幕行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">colorscheme</span> <span class="nx">nordfox</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">cursorlineopt</span><span class="p">=</span><span class="nx">screenline</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">cursorline</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vim-airline美化状态栏" class="headerLink">
    <a href="#vim-airline%e7%be%8e%e5%8c%96%e7%8a%b6%e6%80%81%e6%a0%8f" class="header-mark"></a>vim-airline：美化状态栏</h3><p><a href="https://github.com/vim-airline/vim-airline" target="_blank" rel="noopener noreffer">vim-airline</a> 和 <a href="https://github.com/vim-airline/vim-airline-themes" target="_blank" rel="noopener noreffer">vim-airline-themes</a> 提供了底部状态栏的美化方案。相应配置参考了 Vi Stack Exchange 上的<a href="https://vi.stackexchange.com/questions/3359/how-do-i-fix-the-status-bar-symbols-in-the-airline-plugin" target="_blank" rel="noopener noreffer">方案</a>，具体配置为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_theme</span><span class="p">=</span><span class="s1">&#39;deus&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_powerline_fonts</span> <span class="p">=</span> <span class="m">1</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">if</span> <span class="p">!</span><span class="nx">exists</span><span class="p">(</span><span class="s1">&#39;g:airline_symbols&#39;</span><span class="p">)</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span> <span class="p">=</span> {}<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">endif</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c">
</span></span></span><span class="line"><span class="cl"><span class="c">&#34; unicode symbols</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_left_sep</span> <span class="p">=</span> <span class="s1">&#39;»&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_left_sep</span> <span class="p">=</span> <span class="s1">&#39;▶&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_right_sep</span> <span class="p">=</span> <span class="s1">&#39;«&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_right_sep</span> <span class="p">=</span> <span class="s1">&#39;◀&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">linenr</span> <span class="p">=</span> <span class="s1">&#39;␊&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">linenr</span> <span class="p">=</span> <span class="s1">&#39;␤&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">linenr</span> <span class="p">=</span> <span class="s1">&#39;¶&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">branch</span> <span class="p">=</span> <span class="s1">&#39;⎇&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">paste</span> <span class="p">=</span> <span class="s1">&#39;ρ&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">paste</span> <span class="p">=</span> <span class="s1">&#39;Þ&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">paste</span> <span class="p">=</span> <span class="s1">&#39;∥&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">whitespace</span> <span class="p">=</span> <span class="s1">&#39;Ξ&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c">
</span></span></span><span class="line"><span class="cl"><span class="c">&#34; airline symbols</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_left_sep</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_left_alt_sep</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_right_sep</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_right_alt_sep</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">branch</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">readonly</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">airline_symbols</span>.<span class="nx">linenr</span> <span class="p">=</span> <span class="s1">&#39;&#39;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="/neovim/airline.png" title="/neovim/airline.png" data-thumbnail="/neovim/airline.png" data-sub-html="<h2>AirLine 状态栏美化</h2>">
        <img
            class="lazyload"
            data-src="airline.png"
            data-srcset="/neovim/airline.png, airline.png 1.5x, /neovim/airline.png 2x"
            data-sizes="auto"
            alt="/neovim/airline.png"width="80%">
    </a><figcaption class="image-caption">AirLine 状态栏美化</figcaption>
    </figure>
<h3 id="cocnvim代码补全" class="headerLink">
    <a href="#cocnvim%e4%bb%a3%e7%a0%81%e8%a1%a5%e5%85%a8" class="header-mark"></a>coc.nvim：代码补全</h3><p><a href="https://github.com/neoclide/coc.nvim" target="_blank" rel="noopener noreffer">coc.nvim</a> 提供了强大的代码补全功能，通过 <code>:CocInstall</code> 进一步安装相关语言的扩展就可以启用代码补全。除了必要的设置外，关键在于设置 <code>&lt;tab&gt;</code> 键触发自动补全，核心配置为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">set</span> <span class="nx">hidden</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">updatetime</span><span class="p">=</span><span class="m">100</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">set</span> <span class="nx">shortmess</span><span class="p">+=</span><span class="nx">c</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">inoremap</span> <span class="p">&lt;</span><span class="nx">silent</span><span class="p">&gt;&lt;</span><span class="nx">expr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nx">TAB</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>      \ <span class="nx">pumvisible</span><span class="p">()</span> ? <span class="s2">&#34;\&lt;C-n&gt;&#34;</span> :<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>      \ <span class="p">&lt;</span><span class="nx">SID</span><span class="p">&gt;</span><span class="nx">check_back_space</span><span class="p">()</span> ? <span class="s2">&#34;\&lt;TAB&gt;&#34;</span> :<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>      \ <span class="nx">coc</span>#<span class="nx">refresh</span><span class="p">()</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">inoremap</span> <span class="p">&lt;</span><span class="nx">expr</span><span class="p">&gt;&lt;</span><span class="nx">S</span><span class="p">-</span><span class="nx">TAB</span><span class="p">&gt;</span> <span class="nx">pumvisible</span><span class="p">()</span> ? <span class="s2">&#34;\&lt;C-p&gt;&#34;</span> : <span class="s2">&#34;\&lt;C-h&gt;&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">function</span><span class="p">!</span> <span class="nx">s</span>:<span class="nx">check_back_space</span><span class="p">()</span> <span class="nx">abort</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  <span class="k">let</span> <span class="nx">col</span> <span class="p">=</span> <span class="nx">col</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span> <span class="p">-</span> <span class="m">1</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  <span class="nx">return</span> <span class="p">!</span><span class="nx">col</span> <span class="p">||</span> <span class="nx">getline</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>[<span class="nx">col</span> <span class="p">-</span> <span class="m">1</span>]  <span class="p">=~</span># <span class="s1">&#39;\s&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">endfunction</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>除此之外，通过一下方式设置 coc 的自动安装插件。其中 <code>coc-marketplace</code> 提供了 <code>:CocList marketplace</code> 搜索插件的功能。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">coc_global_extensions</span> <span class="p">=</span> [<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;coc-marketplace&#39;</span><span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;coc-json&#39;</span><span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;coc-python&#39;</span> ]<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>其他设置请参考资料中 TheCW 的视频教程。</p>
</blockquote>
<h3 id="rainbow彩色括号" class="headerLink">
    <a href="#rainbow%e5%bd%a9%e8%89%b2%e6%8b%ac%e5%8f%b7" class="header-mark"></a>rainbow：彩色括号</h3><p><a href="https://github.com/luochen1990/rainbow" target="_blank" rel="noopener noreffer">rainbow</a> 提供了成对符号用颜色匹配的功能，设置中只需要激活即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">rainbow_active</span> <span class="p">=</span> <span class="m">1</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="wildfirevim选择成对符号内字符" class="headerLink">
    <a href="#wildfirevim%e9%80%89%e6%8b%a9%e6%88%90%e5%af%b9%e7%ac%a6%e5%8f%b7%e5%86%85%e5%ad%97%e7%ac%a6" class="header-mark"></a>wildfire.vim：选择成对符号内字符</h3><p><a href="https://github.com/gcmt/wildfire.vim" target="_blank" rel="noopener noreffer">wildfire.vim</a> 提供了使用回车快速选择成对符号内字符的功能。嵌套使用函数时，将光标放到内部，多次按回车可以扩选括号匹配的内容。</p>
<figure><a class="lightgallery" href="/neovim/wildfire.gif" title="/neovim/wildfire.gif" data-thumbnail="/neovim/wildfire.gif" data-sub-html="<h2>WildFire 选择括号内容</h2>">
        <img
            class="lazyload"
            data-src="wildfire.gif"
            data-srcset="/neovim/wildfire.gif, wildfire.gif 1.5x, /neovim/wildfire.gif 2x"
            data-sizes="auto"
            alt="/neovim/wildfire.gif"width="70%">
    </a><figcaption class="image-caption">WildFire 选择括号内容</figcaption>
    </figure>
<h3 id="undotree撤销历史" class="headerLink">
    <a href="#undotree%e6%92%a4%e9%94%80%e5%8e%86%e5%8f%b2" class="header-mark"></a>undotree：撤销历史</h3><p><a href="https://github.com/mbbill/undotree" target="_blank" rel="noopener noreffer">undotree</a> 提供了类似 Git 分支的以树形图现实的撤销历史，并可以恢复到特定节点重新开始。基本使用时只需要将触发撤销树的指令映射到给定快捷键即可，这里使用的是空格和 <code>u</code> （undo）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">nnoremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">u</span> :<span class="nx">UndotreeToggle</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><figure><a class="lightgallery" href="/neovim/undotree.gif" title="/neovim/undotree.gif" data-thumbnail="/neovim/undotree.gif" data-sub-html="<h2>UndoTree 撤销历史</h2>">
        <img
            class="lazyload"
            data-src="undotree.gif"
            data-srcset="/neovim/undotree.gif, undotree.gif 1.5x, /neovim/undotree.gif 2x"
            data-sizes="auto"
            alt="/neovim/undotree.gif"width="70%">
    </a><figcaption class="image-caption">UndoTree 撤销历史</figcaption>
    </figure>
<h3 id="lightspeednvim快速跳转" class="headerLink">
    <a href="#lightspeednvim%e5%bf%ab%e9%80%9f%e8%b7%b3%e8%bd%ac" class="header-mark"></a>lightspeed.nvim：快速跳转</h3><p><a href="https://github.com/ggandor/lightspeed.nvim" target="_blank" rel="noopener noreffer">lightspeed.nvim</a> 提供了基于数个字符在行间进行跳转的功能。其默认使用小写和大写的 <code>s</code> 分别向后、向前跳转。然而，如前所属，单独的小写 <code>s</code> 必须映射为 <code>&lt;nop&gt;</code> 以配合分屏操作。因此，这里将向后、向前跳转分别映射为 <code>L</code> 和 <code>H</code>，以与前面配置的 <code>J</code> 和 <code>K</code> 多行跳转相一致。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">lua</span> <span class="nx">require</span><span class="s1">&#39;lightspeed&#39;</span>.<span class="nx">setup</span>{}<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">L</span> <span class="p">&lt;</span><span class="nx">Plug</span><span class="p">&gt;</span><span class="nx">Lightspeed_s</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="nx">H</span> <span class="p">&lt;</span><span class="nx">Plug</span><span class="p">&gt;</span><span class="nx">Lightspeed_S</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>当在普通模式输入 <code>L</code> 时，以光标所在位置为界，触发向后跳转。其后向字符大部分变为灰色。部分高亮字符意味着可以直接跳转。输入目标字符的首字母后，高亮会有所改变，部分甚至会临时改变附近字符以辅助定位跳转。简言之，键入 <code>L</code> 后盯住目标位置，输入前几个字符即可实现跳转。</p>
<figure><a class="lightgallery" href="/neovim/lightspeed.gif" title="/neovim/lightspeed.gif" data-thumbnail="/neovim/lightspeed.gif" data-sub-html="<h2>LightSpeed 快速跳转：向第二个 sum 跳转时，m 被临时替换为 s以进行区分。</h2>">
        <img
            class="lazyload"
            data-src="lightspeed.gif"
            data-srcset="/neovim/lightspeed.gif, lightspeed.gif 1.5x, /neovim/lightspeed.gif 2x"
            data-sizes="auto"
            alt="/neovim/lightspeed.gif"width="70%">
    </a><figcaption class="image-caption">LightSpeed 快速跳转：向第二个 <code>sum</code> 跳转时，<code>m</code> 被临时替换为 <code>s</code>以进行区分。</figcaption>
    </figure>
<h3 id="nvim-treesitter高亮强化" class="headerLink">
    <a href="#nvim-treesitter%e9%ab%98%e4%ba%ae%e5%bc%ba%e5%8c%96" class="header-mark"></a>nvim-treesitter：高亮强化</h3><p><a href="https://github.com/nvim-treesitter/nvim-treesitter" target="_blank" rel="noopener noreffer">nvim-treesitter</a> 强化了代码高亮，其设置基于 Lua，这里只对 <code>ensure_installed</code> 进行了配置，强化指定文件的高亮功能。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">lua</span> <span class="p">&lt;&lt;</span> <span class="nx">EOF</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">require</span><span class="s1">&#39;nvim-treesitter.configs&#39;</span>.<span class="nx">setup</span> {<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="p">--</span> <span class="nx">one</span> <span class="nx">of</span> <span class="s2">&#34;all&#34;</span><span class="p">,</span> <span class="s2">&#34;language&#34;</span><span class="p">,</span> <span class="nx">or</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">of</span> <span class="nx">languages</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">ensure_installed</span> <span class="p">=</span> {<span class="s1">&#39;bibtex&#39;</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;vim&#39;</span>}<span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    <span class="nx">highlight</span> <span class="p">=</span> {<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>        <span class="nx">enable</span> <span class="p">=</span> <span class="nx">true</span><span class="p">,</span>              <span class="p">--</span> <span class="nx">false</span> <span class="nx">will</span> <span class="nx">disable</span> <span class="nx">the</span> <span class="nx">whole</span> <span class="nx">extension</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    }<span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>}<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">EOF</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在本文完成时，treesitter 的 $\LaTeX$ 支持回导致 UltiSnip 的 <code>context</code> 对数学环境的判断失效，因此这里并未启用。详细的讨论可以查看 <a href="https://github.com/nvim-treesitter/nvim-treesitter/issues/1184" target="_blank" rel="noopener noreffer">该 Issue</a>。</p>
<h3 id="fcitxnvim输入法切换" class="headerLink">
    <a href="#fcitxnvim%e8%be%93%e5%85%a5%e6%b3%95%e5%88%87%e6%8d%a2" class="header-mark"></a>fcitx.nvim：输入法切换</h3><p><a href="https://github.com/h-hg/fcitx.nvim" target="_blank" rel="noopener noreffer">fcitx.nvim</a> 提供了 Fcitx5 下自动切换输入法的的功能。利用该插件，在编辑中文文档时，进入插入模式会自动切换到中文输入法，退回到普通模式时会自动切换到英文输入，避免输入法导致使用命令的困难。</p>
<figure><a class="lightgallery" href="/neovim/fcitx.gif" title="/neovim/fcitx.gif" data-thumbnail="/neovim/fcitx.gif" data-sub-html="<h2>Fcitx 输入法自动切换</h2>">
        <img
            class="lazyload"
            data-src="fcitx.gif"
            data-srcset="/neovim/fcitx.gif, fcitx.gif 1.5x, /neovim/fcitx.gif 2x"
            data-sizes="auto"
            alt="/neovim/fcitx.gif"width="70%">
    </a><figcaption class="image-caption">Fcitx 输入法自动切换</figcaption>
    </figure>
<h3 id="nvim-notify弹窗美化" class="headerLink">
    <a href="#nvim-notify%e5%bc%b9%e7%aa%97%e7%be%8e%e5%8c%96" class="header-mark"></a>nvim-notify：弹窗美化</h3><p><a href="https://github.com/rcarriga/nvim-notify" target="_blank" rel="noopener noreffer">nvim-notify</a> 对 NeoVim 可能出现的弹窗进行了美化，这里使用了默认配置。</p>
<h3 id="gitsignsnvimgit-集成" class="headerLink">
    <a href="#gitsignsnvimgit-%e9%9b%86%e6%88%90" class="header-mark"></a>gitsigns.nvim：Git 集成</h3><p><a href="https://github.com/lewis6991/gitsigns.nvim" target="_blank" rel="noopener noreffer">gitsigns.nvim</a> 将 Git 集成到了 NeoVim 中，我只在默认方案的基础上，只对部分功能的快捷键进行了重新映射：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">lua</span> <span class="nx">require</span><span class="s1">&#39;gitsigns&#39;</span>.<span class="nx">setup</span><span class="p">()</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">gd</span> :<span class="nx">Gitsigns</span> <span class="nx">preview_hunk</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">gj</span> :<span class="nx">Gitsigns</span> <span class="nx">next_hunk</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">gk</span> :<span class="nx">Gitsigns</span> <span class="nx">prev_hunk</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">ga</span> :<span class="nx">Gitsigns</span> <span class="nx">stage_hunk</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">noremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">gu</span> :<span class="nx">Gitsigns</span> <span class="nx">undo_stage_hunk</span><span class="p">&lt;</span><span class="nx">CR</span><span class="p">&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>快捷键及其功能为：</p>
<ul>
<li><code>&lt;leader&gt;gd</code>：查看当前行的改动（<code>d</code> 理解为 diff）；</li>
<li><code>&lt;leader&gt;gj</code>：查看下一处改动（<code>j</code> 为向下移动）；</li>
<li><code>&lt;leader&gt;gk</code>：查看上一处改动（<code>k</code> 为向上移动）；</li>
<li><code>&lt;leader&gt;ga</code>：将当前行的改动提交到暂存区（<code>a</code> 理解为 add）；</li>
<li><code>&lt;leader&gt;gu</code>：撤销提交暂存区（<code>u</code> 理解为 undo）。</li>
</ul>
<figure><a class="lightgallery" href="/neovim/gitsigns.gif" title="/neovim/gitsigns.gif" data-thumbnail="/neovim/gitsigns.gif" data-sub-html="<h2>GitSigns 集成 Git 版本控制</h2>">
        <img
            class="lazyload"
            data-src="gitsigns.gif"
            data-srcset="/neovim/gitsigns.gif, gitsigns.gif 1.5x, /neovim/gitsigns.gif 2x"
            data-sizes="auto"
            alt="/neovim/gitsigns.gif"width="70%">
    </a><figcaption class="image-caption">GitSigns 集成 Git 版本控制</figcaption>
    </figure>
<h3 id="tabular指定字符对齐文本" class="headerLink">
    <a href="#tabular%e6%8c%87%e5%ae%9a%e5%ad%97%e7%ac%a6%e5%af%b9%e9%bd%90%e6%96%87%e6%9c%ac" class="header-mark"></a>tabular：指定字符对齐文本</h3><p><a href="https://github.com/godlygeek/tabular" target="_blank" rel="noopener noreffer">tabular</a> 可以指定字符串，使多行文本对齐。常用于代码中 <code>=</code> 对齐。</p>
<p>为了方便使用，映射了可选模式下 <code>&lt;leader&gt;t</code> 作为指定对齐字符的快捷键：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">vnoremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">t</span> :<span class="nx">Tabular</span> /<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>使用时在可视模式下选择需要对齐的文本，按下空格和 <code>t</code>，输入对齐的字符，回车即可。</p>
<figure><a class="lightgallery" href="/neovim/tabular.gif" title="/neovim/tabular.gif" data-thumbnail="/neovim/tabular.gif" data-sub-html="<h2>Tabular 自动对齐</h2>">
        <img
            class="lazyload"
            data-src="tabular.gif"
            data-srcset="/neovim/tabular.gif, tabular.gif 1.5x, /neovim/tabular.gif 2x"
            data-sizes="auto"
            alt="/neovim/tabular.gif"width="70%">
    </a><figcaption class="image-caption">Tabular 自动对齐</figcaption>
    </figure>
<h3 id="telescopenvim搜索文件" class="headerLink">
    <a href="#telescopenvim%e6%90%9c%e7%b4%a2%e6%96%87%e4%bb%b6" class="header-mark"></a>telescope.nvim：搜索文件</h3><p><a href="https://github.com/nvim-telescope/telescope.nvim" target="_blank" rel="noopener noreffer">telescope.nvim</a> 提供了搜索文件的功能，为了正确使用，需要安装依赖：<a href="https://github.com/nvim-lua/plenary.nvim" target="_blank" rel="noopener noreffer">plenary.nvim</a>，<a href="https://github.com/BurntSushi/ripgrep" target="_blank" rel="noopener noreffer">ripgrep</a>，<a href="https://github.com/sharkdp/fd" target="_blank" rel="noopener noreffer">fd</a>。</p>
<p>此配置使用了插件的默认设置，仅将查找文件界面的功能映射到了 <code>&lt;leader&gt;tf</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="nx">nnoremap</span> <span class="p">&lt;</span><span class="nx">leader</span><span class="p">&gt;</span><span class="nx">tf</span> <span class="p">&lt;</span><span class="nx">cmd</span><span class="p">&gt;</span><span class="nx">Telescope</span> <span class="nx">find_files</span><span class="p">&lt;</span><span class="nx">cr</span><span class="p">&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="nx">lua</span> <span class="nx">require</span><span class="s1">&#39;telescope&#39;</span>.<span class="nx">setup</span>{}<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>普通模式使用空格和 <code>tf</code> 触发搜索窗口查找文件后，按下回车在当前窗口打开文件，或使用 <code>&lt;c-x&gt;</code> 分屏打开文件，也可以使用 <code>&lt;c-t&gt;</code> 在新标签页打开文件。</p>
<figure><a class="lightgallery" href="/neovim/telescope.gif" title="/neovim/telescope.gif" data-thumbnail="/neovim/telescope.gif" data-sub-html="<h2>Telescope 搜索文件</h2>">
        <img
            class="lazyload"
            data-src="telescope.gif"
            data-srcset="/neovim/telescope.gif, telescope.gif 1.5x, /neovim/telescope.gif 2x"
            data-sizes="auto"
            alt="/neovim/telescope.gif"width="70%">
    </a><figcaption class="image-caption">Telescope 搜索文件</figcaption>
    </figure>
<h3 id="vim-markdown-tocmarkdown-生成目录" class="headerLink">
    <a href="#vim-markdown-tocmarkdown-%e7%94%9f%e6%88%90%e7%9b%ae%e5%bd%95" class="header-mark"></a>vim-markdown-toc：Markdown 生成目录</h3><p><a href="https://github.com/mzlogin/vim-markdown-toc" target="_blank" rel="noopener noreffer">vim-markdown-toc</a> 插件提供了命令生成目录，这里只做了一些无关紧要的配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">vmt_list_item_char</span> <span class="p">=</span> <span class="s1">&#39;-&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">vmt_fence_text</span> <span class="p">=</span> <span class="s1">&#39;TOC&#39;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">let</span> <span class="nx">g</span>:<span class="nx">vmt_fence_closing_text</span> <span class="p">=</span> <span class="s1">&#39;/TOC&#39;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>生成目录的主要的命令有：</p>
<ul>
<li><code>:GenTocGFM</code> 生成 GFM 样式的目录，可用于 GitHub；</li>
<li><code>:GenTocRedcarpet</code> 生成 Redcarpet 样式的目录；</li>
<li><code>:GenTocGitLab</code> 生成 GitLab 样式的目录；</li>
<li><code>:GenTocMarked</code> 生成用于 Marked 解析的目录。</li>
</ul>
<figure><a class="lightgallery" href="/neovim/markdown-toc.gif" title="/neovim/markdown-toc.gif" data-thumbnail="/neovim/markdown-toc.gif" data-sub-html="<h2>Vim-Markdown-TOC 生成目录</h2>">
        <img
            class="lazyload"
            data-src="markdown-toc.gif"
            data-srcset="/neovim/markdown-toc.gif, markdown-toc.gif 1.5x, /neovim/markdown-toc.gif 2x"
            data-sizes="auto"
            alt="/neovim/markdown-toc.gif"width="70%">
    </a><figcaption class="image-caption">Vim-Markdown-TOC 生成目录</figcaption>
    </figure>
<h3 id="bulletsvim自动列表" class="headerLink">
    <a href="#bulletsvim%e8%87%aa%e5%8a%a8%e5%88%97%e8%a1%a8" class="header-mark"></a>bullets.vim：自动列表</h3><p><a href="https://github.com/dkarter/bullets.vim" target="_blank" rel="noopener noreffer">bullets.vim</a> 可以根据前文连续生成相应的列表样式，例如 Markwon 中 <code>-</code> 所引导的无序列表。使用时只需要配置该插件使用的文件类型即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="line"><span class="cl"><span class="k">let</span> <span class="nx">g</span>:<span class="nx">bullets_enabled_file_types</span> <span class="p">=</span> [<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;markdown&#39;</span><span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    \ <span class="s1">&#39;gitcommit&#39;</span>]<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="参考资料" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-mark"></a>参考资料</h2><p>本配置重点参考了 <a href="https://github.com/theniceboy" target="_blank" rel="noopener noreffer">David Chen</a> 在哔哩哔哩（用户名为 <a href="https://space.bilibili.com/13081489/" target="_blank" rel="noopener noreffer">TheCW</a>）上投稿的教程视频以及他的配置文档；同时也参考了 <a href="https://github.com/ejmastnak" target="_blank" rel="noopener noreffer">Elijan Mastnak</a> 关于使用 NeoVim 编辑 LaTeX 的系列文章，非常感谢这些大佬们的分享！相关参考如下：</p>
<ol>
<li>TheCW, <a href="https://www.bilibili.com/video/BV164411P7tw" target="_blank" rel="noopener noreffer">上古神器Vim：从恶言相向到爱不释手 - 终极Vim教程01 - 带你配置属于你自己的最强IDE</a></li>
<li>TheCW, <a href="https://www.bilibili.com/video/BV1e4411V7AA" target="_blank" rel="noopener noreffer">上古神器Vim：进阶使用/配置、必备插件介绍 - 终极Vim教程02 - 带你配置属于你自己的最强IDE</a></li>
<li>TheCW, <a href="https://www.bilibili.com/video/BV1r4411G7de" target="_blank" rel="noopener noreffer">「妈妈不会告诉你的Vim技巧」 -Vim终极教程03 - 带你配置属于你自己的最强IDE</a></li>
<li>TheCW, <a href="https://www.bilibili.com/video/BV1y4411C7pE" target="_blank" rel="noopener noreffer">21世纪最强代码编辑器：NeoVim ——就是这些设置让它变成了编辑器之鬼 【附配置与插件教程】</a></li>
<li>TheCW, <a href="https://www.bilibili.com/video/BV1Ka4y1E7AM" target="_blank" rel="noopener noreffer">【硬货】让你的vim像vscode一样强大 —— coc.nvim终极指南</a></li>
<li>TheCW, <a href="https://github.com/theniceboy/nvim" target="_blank" rel="noopener noreffer">Colemak 用户使用的 NeoVim 配置文件</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/intro.html" target="_blank" rel="noopener noreffer">Real-time LaTeX Using (Neo)Vim</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/prerequisites.html" target="_blank" rel="noopener noreffer">Suggested Prerequisites for Writing LaTeX in Vim</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/ultisnips.html" target="_blank" rel="noopener noreffer">An UltiSnips guide for LaTeX workflows</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/ftplugin.html" target="_blank" rel="noopener noreffer">Vim’s <code>ftplugin</code> system</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/vimtex.html" target="_blank" rel="noopener noreffer">Getting started with the VimTeX plugin</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/compilation.html" target="_blank" rel="noopener noreffer">Compiling LaTeX Documents in a Vim-Based Workflow</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/pdf-reader.html" target="_blank" rel="noopener noreffer">Setting Up a PDF Reader for Writing LaTeX with Vim</a></li>
<li>Elijan Mastnak, <a href="https://ejmastnak.github.io/tutorials/vim-latex/vimscript.html" target="_blank" rel="noopener noreffer">A Vimscript Primer for Filetype-Specific Workflows</a></li>
<li>Jacob Banks, <a href="https://morioh.com/p/a7063de46490" target="_blank" rel="noopener noreffer">Collections of Awesome Neovim Plugins</a></li>
</ol></div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-08-03&nbsp;<a class="git-hash" href="https://github.com/iChunyu/iChunyu.github.io/commit/81f4647af2b4ff1809a53f018aaf7214b6d714bb" target="_blank" title="commit by Chunyu(chunyu2018@foxmail.com) 81f4647af2b4ff1809a53f018aaf7214b6d714bb: update directory structure and theme" rel="noopener noreferrer">
                                    <i class="fas fa-hashtag fa-fw"></i>81f4647</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/neovim/index.md target="_blank" rel="noopener noreferrer">阅读原始文档</a>
                    </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/vim/">Vim</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/matlab-inputparser/" class="prev" rel="prev" title="MATLAB 解析输入参数"><i class="fas fa-angle-left fa-fw"></i>MATLAB 解析输入参数</a>
            <a href="/latexsnips/" class="next" rel="next" title="使用代码片段编写 LaTeX 文档">使用代码片段编写 LaTeX 文档<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreffer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer">大春雨</a></span>&nbsp;|&nbsp;<span class="license">本博客所有文章除特別声明外，均采用 <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0 </a> 许可协议，转载请注明出处。</span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div><script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                            });
                    }
                </script></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="回到顶部">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div id="cookieconsent-container"></div><div class="assets"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/fuse/fuse.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>

<div class="pjax-assets"><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":42},"comment":{},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"desktop-header-typeit":"某春雨的后花园","mobile-header-typeit":"某春雨的后花园"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><script type="text/javascript" src="/js/cookieconsent.min.js" defer></script><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript></div>
</body>

</html>